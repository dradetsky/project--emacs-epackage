2010-12-14 Tue  Jari Aalto  <jari.aalto@cante.net>

	* epackage.el
	(top level): Document *-compile.el in "Epackage specification.
	(epackage-cmd-display-package-info): New.
	(epackage--buffer-doc): Rename. Was `epackage--doc-buffer'.
	(epackage--buffer-info): New.
	(epackage-with-buffer-info): New.
	(epackage-pkg-info-display): New.
	(epackage--pkg-info-file-name): New.
	(epackage-directory-package-control): Rename. Was
	`epackage-file-name-vcs-package-control-directory'.
	(epackage-file-name-package-info): New.
	(epackage-package-info-p): New.
	(epackage-file-content-as-string): New.
	(epackage-pkg-info-display): New.
	(epackage-with-package-info-file): New.
	(epackage--batch-ui-menu-actions): Rename i, I commands to e, E.
	Add command i to display package info.
	(epackage--batch-ui-menu-help): Update.
	(epackage-batch-ui-display-package-info): New.
	(epackage--install-autoload-hook): New.
	(epackage--install-enable-hook): New.
	(epackage--install-disable-hook): New.
	(epackage--install-activate-hook): New.
	(epackage--install-deactivate-hook): New.
	(epackage-config-install-autoload): Add hook.
	(epackage--install-config-delete-hook): New.
	(epackage--install-config-delete-all-hook): New.
	(epackage-config-delete-all): Add hook.
	(epackage--install-type-hook): New.
	(epackage-config-install-action): Add hook.
	(epackage-cmd-enable-package): Add hook.
	(epackage-cmd-disable-package): Add hook.
	(epackage-cmd-activate-package): Add hook.
	(epackage-cmd-deactivate-package): Add hook.
	(epackage-cmd-clean-package): Add hook.
	(epackage--install-clean-hook): New.
	(epackage--install-download-hook): New.
	(epackage--install-remove-hook): New.
	(epackage-download-package): Add hook.
	(epackage--initialize-hook): New.
	(epackage-initialize): Run hook.
	(epackage--build-sources-list-hook): New.
	(epackage-build-sources-list): Add hook.
	(epackage--download-action-list): New.
	(epackage--layout-mapping): Add `compile'.
	(epackage-download-action-enable): New.
	(epackage-download-action-disable): New.
	(epackage-cmd-download-action-enable-on): New.
	(epackage-cmd-download-action-enable-off): New.
	(epackage-cmd-download-action-activate-on): New.
	(epackage-cmd-download-action-activate-off): New.
	(epackage-cmd-download-action-autoload-on): New.
	(epackage-cmd-download-action-autoload-off): New.
	(epackage-cmd-download-action-compile-on): New.
	(epackage-cmd-download-action-compile-off): New.
	(defgroup epackage): Lowercase group name.
	(epackage--batch-ui-menu-string): Document t, T.
	(epackage--batch-ui-menu-actions): New user command to turn
	on/off automatic enable install of package after download.
	(epackage-cmd-download-action-display-status): devel Nre.
	(epackage-download-package): Update docstring.
	(epackage-layout-mapping-file): New.
	(epackage-directory-packages-control-file): Use
	`epackage-layout-mapping-file'.
	(epackage-byte-compile-package): New.
	(epackage-byte-compile-package-maybe): New.
	(epackage-run-action-list): New.
	(epackage--batch-ui-menu-header): Show
	`epackage--download-action-list'.
	(epackage-cmd-download-action-activate-toggle): New.
	(epackage-cmd-download-action-autoload-toggle): New.
	(epackage-cmd-download-action-enable-toggle): New.
	(epackage-cmd-download-action-compile-toggle): New.
	(epackage-batch-ui-download-action-enable-toggle): New.
	(epackage-batch-ui-download-action-activate-toggle): New.
	(epackage-cmd-download-package): Call `epackage-run-action-list'.

2010-12-13 Mon  Jari Aalto  <jari.aalto@cante.net>

	* epackage.el (epackage-build-sources-list): New.
	(epackage-combine-files): New.
	(epackage-config-status-of-packages): Correct `add-to-list' call.
	(epackage-cmd-remove-package): Adjust message.
	(epackage-cmd-download-package): Adjust message.
	(epackage-download-package): Adjust message. Pass `verbose'
	to `epackage-git-command-clone'.
	(epackage-cmd-enable-package): Check download status.
	(epackage-cmd-autoload-package): Check download status.
	(epackage-cmd-activate-package): Check download status.
	(epackage-cmd-deactivate-package): Check no files.
	(epackage-cmd-disable-package): Check no files.
	(epackage-config-delete-all): Return list of deleted files.
	(epackage-cmd-clean-package): Check nothing to clean.
	(epackage-cmd-upgrade-package): Improve message.
	(epackage-initialize): Always call `epackage-cmd-build-sources-list'.
	(epackage-documentation-header-string): Add arg FILE.
	(epackage-documentation): pass FILE to
	`epackage-documentation-header-string'.
	(epackage-asscoc): New.
	(epackage-documentation-from-file-main): New.
	(epackage-documentation-header-string): Use
	`epackage-documentation-from-file-main'.
	(epackage-documentation-buffer-version-main): New.
	(epackage-documentation-buffer-version-defconst): New.
	(epackage-documentation-by-lisp-file): New.
	(epackage-documentation): Rewrite.

2010-12-12 Mon  Jari Aalto  <jari.aalto@cante.net>

	* epackage.el (epackage--sources-package-name): update docstirng.
	(epackage--sources-list-url): Add defcustom tags.
	(epackage--sources-file-list): New.
	(epackage-file-name-conf-directory): New.
	(epackage-file-name-sources-list-main): New.
	(epackage-sources-list-p): Use `epackage--sources-file-name-main'.
	(epackage-sources-list-verify): Use `epackage--sources-file-name-main'.
	(epackage-sources-list-p): Use `epackage--sources-file-name-main'.
	(epackage-sources-list-verify): Use `epackage--sources-file-name-main'.
	(epackage-with-sources-list): Use `epackage-file-name-sources-list-main'.
	(epackage-cmd-build-sources-list): New.
	(epackage-initialize): Call `epackage-cmd-build-sources-list'.
	(epackage-require-directories): Add more directories.

2010-12-09 Thu  Jari Aalto  <jari.aalto@cante.net>

	* README (README::Project Details): Add Wiki URL.

	* Makefile (ui): Use BIN, remove -nw option.

	* epackage.el
	(top level): Update documentation. Run Elint and Checkdoc on code
	and fix problems. Add *-examples.el to Specification.
	(epackage-manager): New.
	(epackage-manager): Add `error'. Not implemented.
	(epackage-batch-ui-download-sources-list): Remove duplicate.
	(epackage--batch-ui-menu-actions): Correct function
	to `epackage-batch-ui-enable-package'.
	(epackage-sources-list-info-main): Do not require matching anything
	in DESCRIPTION part.
	(epackage--sources-list-regexp): New.
	(epackage-sources-list-info-parse-line): Use
	`epackage--sources-list-regexp'.
	(epackage-sources-list-info-main): Use
	`epackage--sources-list-regexp'.


2010-12-08 Wed  Jari Aalto  <jari.aalto@cante.net>

	* epackage.el (epackage-require-main): Disable
	`epackage-require-emacs'. url.el not used yet.
	(epackage--batch-ui-menu-header): New.
	(epackage-maintainer): New.
	(epackage-batch-ui-list-installed-packages): Add `interactive'.
	(epackage-batch-ui-list-not-installed-packages): Add `interactive'.
	(epackage-batch-ui-list-not-installed-packages): Add `interactive'.
	(epackage-batch-ui-list-downloaded-packages): Add `interactive'.
	(epackage-batch-ui-download-sources-list): Add `interactive'.
	(epackage-batch-ui-upgrade-all-packages): Add `interactive'.
	(epackage-batch-ui-loader-file-byte-compile): Add `interactive'.
	(epackage-batch-ui-loader-file-generate): Add `interactive'.
	(epackage-loader-file-generate): Move
	`epackage-with-message' outer to include *.elc generate message.
	(epackage-batch-ui-menu): Add "?" help command.
	(epackage-sources-list-info-pkg-list): Correct regexp.
	(epackage-sources-list-verify): Use or, not unless.
	(epackage-sources-list-p): Rewrite. Return file name.
	(epackage-cmd-package-check-macro): New.
	(epackage-cmd-autoload-package): Rewrite.
	(epackage-cmd-enable-package): Rewrite.
	(epackage-cmd-disable-package): Rewrite.
	(epackage-cmd-activate-package): Rewrite.
	(epackage-cmd-deactivate-package): Rewrite.
	(epackage-cmd-clean-package): Rewrite.
	(epackage-sources-list-info-pkg-list): Add sort.
	(epackage-sources-list-info-main): Correct regexp.
	(epackage-status-installed-packages): Correct function.
	(epackage-batch-ui-menu): Add `epackage-batch-ui-menu'.
	(epackage-file-name-directory-previous): New.
	(epackage-file-name-basename): New.

2010-12-07 Tue  Jari Aalto  <jari.aalto@cante.net>

	* epackage.el (epackage-push): New. Rewrite all other functions to
	take advantage of this macro.
	(epackage-status-installed-packages): New.
	(epackage-initialize-verify): New.
	(epackage--symlink-support-flag): New.
	(epackage-enable-file): New.
	(epackage-enable-package): Use `epackage-enable-file'.
	(epackage-activate-package): Use `epackage-enable-file'.
	(epackage-manager): New.
	(epackage-version): New.
	(epackage-documentation): New.
	(epackage--doc-buffer): New.
	(epackage--finder-commentary-buffer): New.
	(epackage-documentation-header-string): New.
	(epackage-documentation): New.
	(epackage-version): New.
	(epackage-batch-macro): New.
	(epackage-batch-download-packages): New.
	(epackage-batch-upgrade-package): New.
	(epackage-batch-upgrade-all-packages): New.
	(epackage-file-name-package-compose): Rename. Was
	`epackage-file-name-vcs-compose'.
	(epackage--directory-name-pkg): Rename. Was
	`epackage--directory-name-vcs'.
	(epackage-status-downloaded-packages): New.
	(epackage-status-enabled-packages): Rename. Was
	`epackage-status-installed-packages'.
	(epackage-status-of-packages): New.
	(epackage-status-installed-packages): New.
	(epackage-status-activated-packages): New.
	(epackage-file-name-pkg-directory): Rename. Was
	`epackage-file-name-vcs-directory'
	(epackage-cmd-upgrade-all-packages): New.
	(epackage-message): New.
	(epackage-with-message): Use `epackage-message'.
	(epackage-with-verbose): New.
	(epackage-verbose-message): New.
	(epackage-cmd-upgrade-all-packages): New.
	(epackage-error): New.
	(epackage-cmd-select-package): New.
	(epackage-cmd-upgrade-package): Use `epackage-cmd-select-package'.
	(epackage-cmd-download-package): Use `epackage-cmd-select-package'.
	(epackage-ignore-errors): New.
	(epackage-require-main): Add arg verbose.
	(epackage-require-main): Add arg verbose.
	(epackage-require-directories): Add arg verbose.
	(epackage-require-git): Add arg verbose.
	(epackage-require-emacs): Add arg verbose.
	(epackage-cmd-download-sources-list): Add arg verbose.
	(epackage-upgrade-sources-list): Add arg verbose.
	(epackage-download-sources-list): Add arg verbose.
	(epackage-with-message):  Add arg verbose.
	(epackage-cmd-enable-package): Rename. Add interactive and autoload.
	Was `epackage-enable-package'.
	(epackage-cmd-activate-package): Rename. Add interactive and autoload.
	Was `epackage-activate-package'.
	(epackage-cmd-disable-package): Rename. Add interactive and autoload.
	Was `epackage-disable-package'.
	(epackage-file-name-pkg-directory-control-file): Change cdr to nth.
	(epackage-file-name-install-compose): Implement.
	(epackage-enable-file): Check FROM. Add arg verbose.
	(epackage-cmd-activate-package): Change compose function.
	(epackage-file-name-install-directory): Remove.
	(epackage--directory-name-install): Remove.
	(epackage--directory-name-link): Chnage value from 00link to 00control.
	(epackage-initialize-string): New.
	(epackage-error-no-directory): New.
	(epackage-error-initialize): New.
	(epackage--sources-package-name): Change value from 00package to
	00control.
	(epackage--directory-name-link): Change 00link to 00packages.
	(epackage--directory-name-conf): New.
	(epackage-loader-directory): New.
	(epackage-file-name-loader-file): Use  `epackage-loader-directory'.
	(epackage-require-directories): Add `epackage-loader-directory'.
	(epackage--directory-name-install): Rename. Was
	`epackage--directory-name-link'.
	(epackage-file-name-install-directory): Rename. Was
	`epackage-file-name-link-directory'.
	(epackage--loader-file-byte-compile-flag): Rename. Was
	`epackage--byte-compile-loader-file'
	(epackage-install-package-action): New.
	(epackage-cmd-remove-package): New.
	(epackage-warn): New.
	(epackage-cmd-deactivate-package): New.
	(epackage-cmd-clean-package): New.
	(epackage-batch-ignore-errors-macro): New.
	(epackage-batch-enable-package): New.
	(epackage-batch-disable-package): New.
	(epackage-batch-activate-package): New.
	(epackage-batch-deactivate-package): New.
	(epackage-batch-clean-package): New.
	(epackage-batch-remove-package): New.
	(epackage-config-install-autoload): New.
	(epackage-config-delete-action): New.
	(epackage-config-delete-all): New.
	(epackage--batch-ui-menu-actions): New.
	(epackage--batch-ui-menu-string): New.
	(epackage-batch-ui-main): New.
	(epackage-batch-ui-menu): New.
	(epackage-batch-ui-list-installed-packages): New.
	(epackage-batch-ui-list-downloaded-packages): New.
	(epackage-batch-list-package-summamry): New.
	(epackage-status-not-installed-packages): New.

2010-12-06 Mon  Jari Aalto  <jari.aalto@cante.net>

	* epackage.el (epackage-download-sources-list): Remove argument
	`message'.
	(epackage-pkg-lint-git-branches): New.
	(epackage--layout-mapping): Update.
	(epackage-pkg-lint-dir-structure): New.
	(epackage-w32-p): New.
	(epackage-with-w32): New.
	(epackage-file-name-nondirectory): New.
	(epackage-directory-p): New.
	(epackage-pkg-lint-main): New.
	(epackage-git-command-branch-list): Add `arg' parameter.
	(epackage-git-command-tag-list): Fix docstring.

2010-12-05 Sun  Jari Aalto  <jari.aalto@cante.net>

	* epackage.el (defgroup Epackage): New.
	(epackage-sources-list-info-parse-line): Fix `format'.
	(epackage-download-sources-list): define variable `dir'.
	(epackage-with-debug): New.
	(epackage-with-message): New.

	* doc/index.css: New.

	* doc/Makefile: New.

	* Makefile: New.

2010-12-04  Jari Aalto  <jari.aalto@cante.net>

	* AUTHORS, COPYING, INSTALL, README: New.

	* epackage.el:
	(top-level): Rename package. Add "Compat" levels and explaint it.
	Add acronym DELPS = Distributed Emacs Lisp Package System. Add
	###autoload stanzas.
	(ti::macrof-minor-mode-wizard): comment out unused code.
	(epackage-git-command-fetch): New.
	(epackage-git-directory-p): New.
	(epackage-sources-list-info-description): New.
	(epackage--sources-list-url): No leading whitespaces before
	PACKAGE-NAME.
	(epackage-sources-list-info-parse-line): New.
	(epackage-sources-list-info-pkg-list): New.
	(epackage-string-p): New.
	(epackage-package-downloaded-p): Use `epackage-stringp-p'.
	(epackage-package-activated-p): Use `epackage-string-p'.
	(epackage-package-enabled-p): Use `epackage-string-p'.
	(epackage-cmd-download-package): Complete function.
	(epackage-cmd-upgrade-package): New.
	(epackage-initialize): Add `interactive'.
	(epackage-package-downloaded-p): Return DIR.
	(epackage-download-package): Correct dir. Call
	`epackage-file-name-vcs-directory'.
	(epackage-git-command-clone): Fix running directory and
	clone command args.
	(epackage-git-command-tag-list): Correct git command.
	(epackage-git-command-branch-parse-1): New.
	(epackage-git-command-branch-parse-main): New.
	(epackage-git-command-branch-list): Split into smaller pieces.
	(epackage-with-git-command): Correct macro expansion in variable
	`verbose'.
	(epackage-with-git-command): Fix mapconcat call.

	** MOVE tinyepkg.el out of tiny tools to a separate package **

2010-12-03  Jari Aalto  <jari.aalto@cante.net>

	* tinyepkg.el (epackage--directory-name-vcs):
	Set value from 'vc' to more descriptive 'packages'.

2010-12-02 Fri  Jari Aalto  <jari.aalto@cante.net>

	* tinyepkg.el
	(top level): Draw picture about epackage framewrk.
	(epackage-git-command-branch-current-name): New.
	(epackage-git-branch-list-current-branch): New.
	(epackage-git-command-branch-list): New.
	(epackage-git-command-tag-list): New.
	(epackage-with-last-git-output): New.
	(epackage-git-branch-list-master-p): New.
	(epackage-master-p): New.

2010-11-30 Tue  Jari Aalto  <jari.aalto@cante.net>

	* tinyepkg.el:
	(top level) Untabify (big diff). Revise spec: introduce 00epackage/
	and 00link/ directories. Add [ERROR] to every error message. Sources
	list is no longer file retrieved by HTTP, but also a Git repository.
	(epackage-upgrade-package): New.
	(epackage-upgrade-sources-list): New.

2010-11-29 Mon  Jari Aalto  <jari.aalto@cante.net>

	* tinyepkg.el: Proof of concept implemented. The core
	functionality is ready. External Emacs Packages can be downloaded,
	enabled, activated, disabled. Boot loader epackage-loader.el is also
	functional.

2010-11-28 Sun  Jari Aalto  <jari.aalto@cante.net>

	* tinyepkg.el: Revise epackage specification.

2010-11-27 Sat  Jari Aalto  <jari.aalto@cante.net>

	* tinyepkg.el: Update epackage specification.

2009-03-29  Jari Aalto  <jari.aalto@cante.net>

	* tinyepkg.el: New.

License

	This program is free software; you can redistribute and/or modify
	program under the terms of GNU General Public license either version 2
	of the License, or (at your option) any later version.

End of file
